(function(a,c){a._EPYT_=a._EPYT_||{ajaxurl:"/wp-admin/admin-ajax.php",security:"",gallery_scrolloffset:100,eppathtoscripts:"/wp-content/plugins/youtube-embed-plus/scripts/",epresponsiveselector:["iframe.__youtube_prefs_widget__"],epdovol:!0,evselector:'iframe.__youtube_prefs__[src], iframe[src*="youtube.com/embed/"], iframe[src*="youtube-nocookie.com/embed/"]',stopMobileBuffer:!0,usingdefault:!0};a._EPYT_.pageLoaded=!1;c(a).on("load._EPYT_",function(){a._EPYT_.pageLoaded=!0});document.querySelectorAll||
(document.querySelectorAll=function(b){var e=document,c=e.documentElement.firstChild,g=e.createElement("STYLE");c.appendChild(g);e.__qsaels=[];g.styleSheet.cssText=b+"{x:expression(document.__qsaels.push(this))}";a.scrollBy(0,0);return e.__qsaels});"undefined"===typeof a._EPADashboard_&&(a._EPADashboard_={initStarted:!1,checkCount:0,onPlayerReady:function(b){try{if("undefined"!==typeof _EPYT_.epdovol&&_EPYT_.epdovol){var a=parseInt(b.target.getIframe().getAttribute("data-vol"));isNaN(a)||(0===a?b.target.mute():
(b.target.isMuted()&&b.target.unMute(),b.target.setVolume(a)))}}catch(d){}},onPlayerStateChange:function(b){var e=b.target.getIframe();b.data===a.YT.PlayerState.PLAYING&&!0!==b.target.ponce&&-1===e.src.indexOf("autoplay=1")&&(b.target.ponce=!0);var d=c(e).closest(".epyt-gallery");d.length||(d=c("#"+c(e).data("epytgalleryid")));d.length&&"1"==d.find(".epyt-pagebutton").first().data("autonext")&&b.data===a.YT.PlayerState.ENDED&&(b=d.find(".epyt-current-video"),b.length||(b=d.find(".epyt-gallery-thumb").first()),
b=b.find(" ~ .epyt-gallery-thumb").first(),b.length?b.click():d.find('.epyt-pagebutton.epyt-next[data-pagetoken!=""][data-pagetoken]').first().click())},justid:function(b){return/[\?&]v=([^&#]*)/.exec(b)[1]},setupevents:function(b){a._EPADashboard_.log("Setting up YT API events: "+b);if("undefined"!==typeof a.YT&&null!==a.YT&&a.YT.loaded)return document.getElementById(b).epytsetupdone=!0,new a.YT.Player(b,{events:{onReady:a._EPADashboard_.onPlayerReady,onStateChange:a._EPADashboard_.onPlayerStateChange}})},
apiInit:function(){setTimeout(function(){if("undefined"!==typeof a.YT){a._EPADashboard_.initStarted=!0;for(var b=document.querySelectorAll(_EPYT_.evselector),c=0;c<b.length;c++)b[c].hasAttribute("id")||(b[c].id="_dytid_"+Math.round(8999*Math.random()+1E3)),a._EPADashboard_.setupevents(b[c].id)}},300)},log:function(b){try{console.log(b)}catch(e){}},doubleCheck:function(){a._EPADashboard_.checkInterval=setInterval(function(){a._EPADashboard_.checkCount++;5<=a._EPADashboard_.checkCount||a._EPADashboard_.initStarted?
clearInterval(a._EPADashboard_.checkInterval):(a._EPADashboard_.apiInit(),a._EPADashboard_.log("YT API init"))},1E3)},selectText:function(b){if(document.selection){var c=document.body.createTextRange();c.moveToElementText(b);c.select()}else a.getSelection&&(c=document.createRange(),c.selectNode(b),a.getSelection().addRange(c))}});a.onYouTubeIframeAPIReady="undefined"!==typeof a.onYouTubeIframeAPIReady?a.onYouTubeIframeAPIReady:function(){if(a._EPYT_.pageLoaded)a._EPADashboard_.apiInit(),a._EPADashboard_.log("YT API ready");
else c(a).on("load._EPYT_",function(){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API ready")})};if("undefined"===typeof a.YT){var h=document.createElement("script");h.src="//www.youtube.com/iframe_api";h.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(h)}else if(a.YT.loaded)if(a._EPYT_.pageLoaded)a._EPADashboard_.log("YT API available"),a._EPADashboard_.apiInit();else c(a).on("load._EPYT_",function(){a._EPADashboard_.log("YT API available");a._EPADashboard_.apiInit()});
if(a._EPYT_.pageLoaded)a._EPADashboard_.doubleCheck();else c(a).on("load._EPYT_",function(){a._EPADashboard_.doubleCheck()});c(document).ready(function(){c(".epyt-gallery").each(function(){var b=c(this),e=c(this).find("iframe").first(),d=e.attr("src");d||(d=e.data("ep-src"));var g=c(this).find(".epyt-gallery-list .epyt-gallery-thumb").first().data("videoid"),d=d.replace(g,"GALLERYVIDEOID");e.data("ep-gallerysrc",d);b.find(".epyt-gallery-list");b.on("click",".epyt-gallery-list .epyt-gallery-thumb",
function(){b.find(".epyt-gallery-list .epyt-gallery-thumb").removeClass("epyt-current-video");c(this).addClass("epyt-current-video");var d=c(this).data("videoid");b.data("currvid",d);var f=e.data("ep-gallerysrc").replace("GALLERYVIDEOID",d),d=b.find(".epyt-pagebutton").first().data("thumbplay");"0"!==d&&0!==d&&(f=0<f.indexOf("autoplay")?f.replace("autoplay=0","autoplay=1"):f+"&autoplay=1",e.addClass("epyt-thumbplay"));c("html, body").animate({scrollTop:e.offset().top-parseInt(_EPYT_.gallery_scrolloffset)},
500,function(){e.attr("src",f);a._EPADashboard_.setupevents(e.attr("id"))})}).on("keydown",".epyt-gallery-list .epyt-gallery-thumb, .epyt-pagebutton",function(b){var a=b.which;if(13===a||32===a)b.preventDefault(),c(this).click()});b.on("mouseenter",".epyt-gallery-list .epyt-gallery-thumb",function(){c(this).addClass("hover")});b.on("mouseleave",".epyt-gallery-list .epyt-gallery-thumb",function(){c(this).removeClass("hover")});b.on("click",".epyt-pagebutton",function(){var a={action:"my_embedplus_gallery_page",
security:_EPYT_.security,options:{playlistId:c(this).data("playlistid"),pageToken:c(this).data("pagetoken"),pageSize:c(this).data("pagesize"),columns:c(this).data("columns"),showTitle:c(this).data("showtitle"),showPaging:c(this).data("showpaging"),autonext:c(this).data("autonext"),thumbplay:c(this).data("thumbplay")}},d=c(this).hasClass("epyt-next"),e=parseInt(b.data("currpage")+"");b.data("currpage",e+(d?1:-1));b.find(".epyt-gallery-list").addClass("epyt-loading");c.post(_EPYT_.ajaxurl,a,function(a){b.find(".epyt-gallery-list").html(a);
b.find(".epyt-current").each(function(){c(this).text(b.data("currpage"))});b.find('.epyt-gallery-thumb[data-videoid="'+b.data("currvid")+'"]').addClass("epyt-current-video");"1"==b.find(".epyt-pagebutton").first().data("autonext")&&b.find(".epyt-gallery-thumb").first().click()}).fail(function(){alert("Sorry, there was an error loading the next page.")}).always(function(){b.find(".epyt-gallery-list").removeClass("epyt-loading");c("html, body").animate({scrollTop:b.find(".epyt-gallery-list").offset().top-
parseInt(_EPYT_.gallery_scrolloffset)},500)})})})})})(window,jQuery);